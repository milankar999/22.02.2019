<app-crm-header></app-crm-header>  
<app-crm-footer></app-crm-footer>
<br><br><br><br>

    <div class="container">
        <div class="backdrop" [ngStyle]="{'display' :display}"> 
            <!--modal-->
            <div class="modal" tabindex="-1" role="dailog" [ngStyle]="{'display':display}">
               <!--modal-dialog-->
                <div class="modal-dialog" role="document">
                <!--modal-conent-->
                    <div class="modal-content">
                        <!---model-->
                        <div class="panel-heading text-center">Enter New Receiver Information                                   
                            <button type="button" class="close" (click)="closeModalDialog()">&times;</button>
                        </div> 
                        <div class="modal-body">
                                <form [formGroup]="poForm"> 
                                        <div class="example-container">
                                                <mat-form-field>
                                                     <input matInput placeholder="Person Name" formControlName="person_name" [(ngModel)]="model.person_name">
                                                </mat-form-field>
                            
                                                 <mat-form-field>
                                                        <input matInput placeholder="Mobile No1"  formControlName="mobileNo1"   [(ngModel)]="model.mobileNo1">
                                                 </mat-form-field>
                            
                                                 <mat-form-field>
                                                        <input matInput placeholder="Mobile No2" formControlName="mobileNo2"  [(ngModel)]="model.mobileNo2">
                                                 </mat-form-field>
                            
                                                 <mat-form-field>
                                                        <input matInput placeholder="Office Email 1" formControlName="email1"  [(ngModel)]="model.email1" >
                                                 </mat-form-field>
                            
                                                 <mat-form-field>
                                                        <input matInput placeholder="Office Email 2" formControlName="email2"  [(ngModel)]="model.email2" >
                                                 </mat-form-field>
                                                 
                                                 <mat-form-field>
                                                        <input matInput placeholder="Department Name" formControlName="department_name"  [(ngModel)]="model.department_name" >
                                                 </mat-form-field>

                                                 <button mat-raised-button color="primary" [disabled]='isDisabled(model)' (click)="submitreciverlist(event)">Confirm</button>
                                              
                                        </div>
                                    </form>
                               <!---- <form #submitreciverForm="ngForm" (ngSubmit)="submitreciverlist(event)" class="form-signin" [formGroup]="poForm" >
                                        <div class="form-group" [ngClass]="{'has-error':poForm.get('person_name').touched && poForm.get('person_name').invalid}">
                                            <label for="person_name" class="control-label">Person Name*</label>
                                            <input type="text" id="person_name" class="form-control" formControlName="person_name" [(ngModel)]="model.person_name">
                                            <span *ngIf="poForm.get('person_name').touched && poForm.get('person_name').invalid" class="help-block">person_name can't be blank.</span>
                                        </div>
           
                                        <div class="form-group" [ngClass]="{'has-error':poForm.get('mobileNo1').touched && poForm.get('mobileNo1').invalid}">
                                            <label for="mobileNo1" class="control-label">Mobile No1*</label>
                                            <input type="text" id="mobileNo1" class="form-control" formControlName="mobileNo1" maxlength="10"  [(ngModel)]="model.mobileNo1" >
                                            <span *ngIf="poForm.get('mobileNo1').touched && poForm.get('mobileNo1').invalid" class="help-block">mobileNo1 can't be blank.</span>
                                        </div>
           
                                        <div class="form-group">
                                            <label class="form-input" for="mobileNo2"> Mobil No 2 </label>
                                            <input type="text" class="form-control" id="mobileNo2" name="mobileNo2" formControlName="mobileNo2"  [(ngModel)]="model.mobileNo2" ><br>
                                        </div>
                                                     
                                        <div class="form-group" [ngClass]="{'has-error':poForm.get('email').touched && poForm.get('email').invalid}">
                                            <label for="email" class="control-label">Office Email 1*</label>
                                            <input type="email1" id="email1" class="form-control" formControlName="email"  [(ngModel)]="model.email1"  >
                                            <span *ngIf="poForm.get('email').touched && poForm.get('email').hasError('required')" class="help-block">Office Email 1 can't be blank.</span>
                                            <span *ngIf="poForm.get('email').touched && poForm.get('email').hasError('email')"  class="help-block">Office Email  must be valid</span>
                                        </div>
           
                                        <div class="form-group">
                                            <label class="form-input" for="email2">Office Email ID 2 </label>
                                            <input type="email" class="form-control" id="email2" name="email2" formControlName="email2"  [(ngModel)]="model.email2" ><br>
                                        </div>
                                         
                                        <div class="form-group" [ngClass]="{'has-error':poForm.get('department_name').touched && poForm.get('department_name').invalid}">
                                            <label for="department_name" class="control-label">Department Name*</label>
                                            <input type="text" id="department_name" class="form-control" formControlName="department_name"  [(ngModel)]="model.department_name" >
                                            <span *ngIf="poForm.get('department_name').touched && poForm.get('department_name').invalid" class="help-block">department_name can't be blank.</span>
                                        </div>
           
                                         <hr> 
           
                                        <button [disabled]="submitreciverForm.invalid" class="btn btn-primary">submit</button>&nbsp;
                                        <button type="button" class="btn btn-danger" (click)="closeModalDialog()">Cancel</button>
                               </form>-->
                        </div>
                        <!---model-->
                    </div>
                </div>
            </div> 
        </div>  

        <label>Selece A Receiver From This List</label>
        <button type="button" class="btn btn-success btn-sm" style="float:right" (click)="openModalDialog()"><span class="glyphicon glyphicon-plus"></span>&nbsp;&nbsp;New Receiver</button>
        <br><br>
        <table id="dcustomer" class="table table-hover table-bordered table-sm">
            <thead>
                <tr>
                        <th></th>
                        <th>Person Name</th>
                        <th>Mobile No1</th>
                        <th>Mobile No2</th>
                        <th>Email1</th>
                        <th>Email2</th> 
                        <th>Department Name</th>   
               </tr>
            </thead>
            <tr *ngFor="let data of  reciverselectionlist">
                    <td>
                       <a href="crm/po-entry/{{customer_id}}/{{requester_id}}/{{data.id}}/supportinginfo"><span class="glyphicon glyphicon-forward" style="color: blue"></span></a>
                   </td>                
                   <td>{{data.person_name}}</td>
                   <td>{{data.mobileNo1}}</td>
                   <td>{{data.mobileNo2}}</td>
                   <td>{{data.email1}}</td>
                   <td>{{data.email2}}</td>
                   <td>{{data.department_name}}</td>
            </tr>
       </table>
   </div> 
   <br><br> 